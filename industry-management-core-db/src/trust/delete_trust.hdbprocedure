PROCEDURE "business::XSAPPUSER_DELETE_TRUST" (IN PseName NVARCHAR (256), IN CertId BIGINT)
LANGUAGE SQLSCRIPT SQL SECURITY INVOKER AS
varCounter INTEGER := 0;
BEGIN
  DECLARE varStatement NVARCHAR (256);
  SELECT COUNT(*) INTO varCounter FROM SYS.PSE_CERTIFICATES WHERE CERTIFICATE_ID = :CertId;
  IF (:varCounter > 0) THEN
     varStatement := 'ALTER PSE ' || :PseName || ' DROP CERTIFICATE ' || :CertId;
     EXEC :varStatement;
  END IF;
END;